@page
@model CurrentAuctionsModel

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Current Auctions - LIForCars</title>
    <link href="~/css/fontStyles.css" rel="stylesheet" />
    <link href="~/css/home.css" rel="stylesheet" />
    <link href="~/css/currentAuctions.css" rel="stylesheet" />
    <script src="~/js/home.js"></script>
    <script src="~/js/currentAuctions.js"></script>
</head>
<body>
    <div class="hero">
        <header>
            <h2>LIFORCARS</h2>
            <nav>
                <a href="/">HOME</a>
                <a href="#" onclick="showAboutPage()">ABOUT</a>
                <a href="#" onclick="showContactPage()">CONTACT</a>
                <a href="/CurrentAuctions">CURRENT AUCTIONS</a> 
                <divSignIn>
                    <a2 href="#" onclick="showLoginPage()" class="signin">SIGN IN</a2>
                </divSignIn>
            </nav>
        </header>

        <div class="auctions-container">
            <h2>Current Auctions</h2>
            <div id="auctionsList" class="auctions-list">
                @foreach(var auction in Model.Auctions) {
                    <div class="auction-info">
                    <h3 class="car-model">@auction.Car?.Make @auction.Car?.Model (@auction.Car?.LaunchYear)</h3>
                        <p>Milage: @auction.Car?.Kms</p>
                        <p>Status Description: @auction.Car?.StatusDescription</p>
                        <p>Motor: @auction.Car?.Motor (@auction.Car?.FuelType)</p>
                        <p>Category: @auction.Car?.Category</p>
                        <p>Origin: @auction.Car?.Origin</p>
                        <p>Auction Dates: @auction.InitDateTime.ToString("yyyy-MM-dd HH:mm:SS") - @auction.EndDateTime.ToString("yyyy-MM-dd HH:mm:SS")</p>
                        <p>Base Price: @auction.BasePrice</p>
                    </div>
                }
            </div>
            <div class="pagination">
                <button class="page-btn @(Model.CurrentPage <= 1 ? "invisible-btn" : "")" 
                        onclick="navigateToPage(@(Model.CurrentPage - 1))">&lt;</button>

                <span>Page @Model.CurrentPage</span>

                <button class="page-btn @(Model.CurrentPage * Model.PageSize >= Model.TotalCount ? "invisible-btn" : "")" 
                        onclick="navigateToPage(@(Model.CurrentPage + 1))">&gt;</button>
            </div>
        </div>
    </div>

    <div id="register-page" style="display: none;">
        <div class="modal-backdrop">
            <div class="modal-content">
                <div class="modal-header">
                    <span class="close-btn" onclick="closeRegisterPage()">&times;</span>
                    <h2>REGISTER</h2>
                </div>
                <form id="registrationForm" method="post" action="api/User/register">
                    <input type="text" name="Name" placeholder="Name" required />
                    <input type="text" id="registerNif" name="Nif" placeholder="NIF" required />
                    <input type="text" id="registerCc" name="CC" placeholder="nÂº CC" required />
                    <input type="text" name="Address" placeholder="Address" required />
                    <input type="text" id = "registerPhone" name="Phone" placeholder="Phone Number" required />
                    
                    <select name="Gender" required>
                        <option value="" disabled selected>Select your gender</option>
                        <option value="M">Male</option>
                        <option value="F">Female</option>
                        <option value="O">Other</option>
                    </select>

                    <input type="date" name="BirthDate" placeholder="Birth Date" required />

                    <input type="text" id="registerUsername" name="Username" placeholder="Username" required />
                    <input type="email" id="registerEmail" name="Email" placeholder="Email" required />
                    <input type="password" id="registerPassword" name="Password" placeholder="Password" required />
                    <input type="password" id="registerConfirmPassword" placeholder="Confirm Password" required />

                    <div class="modal-footer">
                        <button type="submit">Register</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div id="login-page" style="display: none;">
        <div class="modal-backdrop">
            <div class="modal-content">
                <div class="modal-header">
                    <span class="close-btn" onclick="closeLoginPage()">&times;</span>
                    <h2>LOG IN</h2>
                </div>
                <form id="loginForm" method="post" action="api/User/login">
                    <input type="text" id="loginUsername" name="Username" placeholder="Username / Email" required/>
                    <input type="password" id="loginPassword" name="Password" placeholder="Password" required/>
                    <div class="modal-footer">
                        <a href="#" onclick="showRegisterPage()">Register New Account</a>
                        <button type="submit">Login</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div id="about-page" style="display: none;">
        <div class="modal-backdrop">
            <div class="modal-content">
                <div class="modal-header">
                    <span class="close-btn" onclick="closeAboutPage()">&times;</span>
                    <h2>About Us</h2>
                </div>
                <div class="modal-body">
                    <p>&emsp; Welcome to LIForCars, your premier destination for bidding, winning, and riding your dream car. Our platform offers a seamless and transparent car auction experience, allowing you to find and purchase cars at competitive prices. With a commitment to quality and customer satisfaction, we're here to help you drive your dream car home.</p>
                    <p>&emsp; Founded on the principles of integrity, transparency, and dedication, LIForCars has been at the forefront of revolutionizing the car auction industry. Our user-friendly platform and comprehensive support system ensure that from the moment you bid to the time you ride, your journey is smooth and enjoyable.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="contact-page" style="display: none;">
        <div class="modal-backdrop">
            <div class="modal-content">
                <div class="modal-header">
                    <span class="close-btn" onclick="closeContactPage()">&times;</span>
                    <h2>Contact Us</h2>
                </div>
                <div class="modal-body">
                    <form id="contactForm" method="post" action="/submit-contact-form">
                        <input type="text" name="Name" placeholder="Your Name" required />
                        <input type="email" name="Email" placeholder="Your Email" required />
                        <textarea name="Message" placeholder="Your Message" required rows="5"></textarea>
                        <div class="modal-footer">
                            <button type="submit">Send Message</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="bottom-icons">
            <a href="#">Facebook</a>
            <a> | </a>
            <a href="#">Instagram</a>
            <a> | </a>
            <a href="#">LinkedIn</a>
        </div>
        <div class="email">
            <a>help@LIForCars.pt</a>
        </div>
        <div class="bottom-icons">
            <a href="#">Privacy Policy</a>
            <a> | </a>
            <a href="#">Terms & Conditions</a>
        </div>
    </footer>
</body>
</html>
