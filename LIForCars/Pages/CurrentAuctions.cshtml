@page
@model CurrentAuctionsModel

<link href="~/css/currentAuctions.css" rel="stylesheet" />

<div class="auctions-container">
    <h2>Current Auctions</h2>
    <div id="auctionsList" class="auctions-list">
        @foreach(var auction in Model.Auctions) {
            <div class="auction-info">
            <h3 class="car-model">@auction.Car?.Make @auction.Car?.Model (@auction.Car?.LaunchYear)</h3>
                <p>Milage: @auction.Car?.Kms</p>
                <p>Status Description: @auction.Car?.StatusDescription</p>
                <p>Motor: @auction.Car?.Motor (@auction.Car?.FuelType)</p>
                <p>Category: @auction.Car?.Category</p>
                <p>Origin: @auction.Car?.Origin</p>
                <p>Auction Dates: @auction.InitDateTime.ToString("yyyy-MM-dd HH:mm:SS") - @auction.EndDateTime.ToString("yyyy-MM-dd HH:mm:SS")</p>
                <p>Base Price: @auction.BasePrice</p>

                <button class="btn" onclick="navigateToAuction(@auction.Id)">View Auction</button>
            </div>
        }
    </div>
    <div class="pagination">
        <button class="page-btn @(Model.CurrentPage <= 1 ? "invisible-btn" : "")" 
                onclick="navigateToPage(@(Model.CurrentPage - 1), @Model.PageSize)">&lt;</button>

        <span>Auction @Model.CurrentPage</span>

        <button class="page-btn @(Model.CurrentPage * Model.PageSize >= Model.TotalCount ? "invisible-btn" : "")" 
                onclick="navigateToPage(@(Model.CurrentPage + 1), @Model.PageSize)">&gt;</button>
    </div>
</div>